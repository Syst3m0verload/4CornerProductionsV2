
@{
    ViewData["Title"] = "Portfolio";
    Layout = "~/Views/Shared/Layout.cshtml";
}

<style>
    section {
        margin: 100px 10%;
    }

    .sectionHeader {
        background-color: #444;
        font-family: "Playfair Display";
        text-align: center;
        font-size: 2em;
        padding: 10px;
        width: 100%;
        color: white;
    }

    .container {
        max-width: 1040px;
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
    }

    .container>a {
        width: 250px;
        height: 250px;
        padding: 5px;
    }

    .image {
        width: 100%;
        height: 100%;
        transition: opacity ease-out 0.5s;
        object-fit: cover;
    }

    .image:hover {
        opacity: 0.5;
    }

.mfp-with-zoom .mfp-container,
.mfp-with-zoom.mfp-bg {
  opacity: 0;
  -webkit-backface-visibility: hidden;
  /* ideally, transition speed should match zoom duration */
  -webkit-transition: all 0.3s ease-out;
  -moz-transition: all 0.3s ease-out;
  -o-transition: all 0.3s ease-out;
  transition: all 0.3s ease-out;
}

.mfp-with-zoom.mfp-ready .mfp-container {
    opacity: 1;
}
.mfp-with-zoom.mfp-ready.mfp-bg {
    opacity: 0.8;
}

.mfp-with-zoom.mfp-removing .mfp-container,
.mfp-with-zoom.mfp-removing.mfp-bg {
  opacity: 0;
}

.mfp-title {
  position:absolute;
  color: white;
  margin-top: 10px;
  font-size: 1.5em;
}

</style>

<!--https://dimsemenov.com/plugins/magnific-popup/-->
<main>
    <section>
        <div class="sectionHeader">Images</div>
        <div class="images container">
            <a href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
            <a class="test-popup-link" href="~/media/Portfolio/images/sample1.jpeg">
                <img class="image" src="~/media/Portfolio/images/sample1.jpeg" alt="placeholder" />
            </a>
        </div>

    </section>
    <section>
        <div class="sectionHeader">Videos</div>
        <div class="videos container">
            <!--To generate thumbnails properly, ensure last 11 characters are the video id.-->
            <!--[params]title: description under video player   href: youtube URL-->
            <a title="meow" href="https://www.youtube.com/watch?v=5dsGWM5XGdg"></a>
            <a title="meow2" href="https://www.youtube.com/watch?v=cU5mlSWoL8E"></a>
            <a title="meow3" href="https://www.youtube.com/watch?v=eOcHz3Hf3UI"></a>
            <a title="meow4" href="https://www.youtube.com/watch?v=53W_ImgwcLs"></a>
            <a title="meow5" href="https://www.youtube.com/watch?v=7na_-LfGfpE"></a>
            <a title="meow6" href="https://www.youtube.com/watch?v=o1YA_6tXs5E"></a>
            <a title="meow7" href="https://www.youtube.com/watch?v=DXUAyRRkI6k"></a>
            <a title="meow8" href="https://www.youtube.com/watch?v=cytJLvf-eVs"></a>
        </div>
    </section>
</main>
<script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
<script>
    // Generate thumbnails for videos
    $('.videos').children('a').each(function () {
        var youtubeId = $(this).attr('href');
        youtubeId = youtubeId.substring(youtubeId.length - 11);
        $(this).html("<img class='image' src='https://img.youtube.com/vi/" + youtubeId + "/hqdefault.jpg' alt='thumbnail' />")
    });

    // Lightboxes for images & videos
    $(document).ready(function() {
        $('.images').magnificPopup({
            delegate: 'a', // child items selector, by clicking on it popup will open
            type: 'image',
            mainClass: 'mfp-with-zoom',
            gallery:{
                enabled: true,
                closeOnBgClick: true,
                showCloseBtn: true
            },
		    zoom: {
			    enabled: true,
                duration: 300
		    }
        });

        $('.videos').magnificPopup({
            delegate: 'a', // child items selector, by clicking on it popup will open
            type: 'iframe',
            mainClass: 'mfp-with-zoom',
              iframe: {
                markup: '<div class="mfp-iframe-scaler">'+
                '<div class="mfp-close"></div>'+
                '<iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe>'+
                '<div class="mfp-title">Some caption</div>'+
              '</div>'
            },
            gallery:{
                enabled: true,
                closeOnBgClick: true,
                showCloseBtn: true
            },
		    zoom: {
			    enabled: true,
                duration: 300
            },
            callbacks: {
                markupParse: function(template, values, item) {
                 values.title = item.el.attr('title');
                }
            }
        });
     });
</script>